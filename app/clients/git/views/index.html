{{> status-line}}

<style type="text/css">
  span.link[onclick] {
    cursor: pointer;
    margin-left: 1rem
  }
  span.link[onclick]:hover {
    text-decoration: underline;
  }
  span.link[onclick]:active {
    opacity: 0.8
  }
  
</style>
<div class="line">
  <div class="label">
    Repository
  </div>
  <div class="center" style="flex-grow:1;">
    <div style="border-radius: 4px;margin:11px 0;border:1px solid rgba(0,0,0,0.1)">
    <div class="line" >
  <span class="label">URL</span>
  <span class="center" id="repo_url">https://{{host}}/clients/git/end/{{blog.handle}}.git</span>
  <span class="link" onclick="copyToClipboard(this, 'repo_url')">Copy to clipboard</span>
</div>  

<div class="line" >
  <span class="label">Username</span>
  <span class="center"><span id="repo_username">{{user.email}}</span>  <span class="link" onclick="copyToClipboard(this, 'repo_username')">Copy to clipboard</span></span>
 
</div>  

<div class="line" >
  <span class="label">Password</span>
  <span class="center" id="repo_password">{{token}}</span>
  <span class="link" onclick="copyToClipboard(this, 'repo_password')">Copy to clipboard</span>
  <a style="margin-left: 1rem" class="link" href="{{{base}}}/reset-password">Reset password</a>
</div>  

<div class="line" >
  <span class="label">Branch</span>
  <span class="center">master</span>
</div>  
  </div>
  </div>
</div>

{{> disconnect-line}}

<script type="text/javascript">
  
  function copyToClipboard(node, elementId) {


  // Create an auxiliary hidden input
  var aux = document.createElement("input");

  // Get the text from the element passed into the input
  aux.setAttribute("value", document.getElementById(elementId).innerHTML);

  // Append the aux input to the body
  document.body.appendChild(aux);

  // Highlight the content
  aux.select();

  // Execute the copy command
  document.execCommand("copy");

  // Remove the input from the body
  document.body.removeChild(aux);

  const cachedInnerHTML = node.innerHTML;
  node.innerHTML = 'Copied';
  setTimeout(function(){
  node.innerHTML = cachedInnerHTML;    
  }, 2000)
  }  
</script>

