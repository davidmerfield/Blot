<h1>Example sites</h1>

<div style="display: flex;">

    <div style="flex-basis:50%;margin-right:2em;">
      <h2><a href="/examples" onclick="renderFeatured();return false;">People who use Blot</a></h2>
      {{#featured}}
<ul id="featured" style="list-style-type: none;
padding: 0;
margin: 0;font-size:16px" class="clients">
  {{#sites}}
  <li data-hue="{{hue}}">
    <a target="_blank" style="display:flex;padding:8px 0" rel="noopener" href="{{{link}}}">
      <span
        style="display:block;flex-shrink:0;background:url('{{#cdn}}/images/featured.png{{/cdn}}');background-size: {{background_width}}px;
  background-position:-{{x}}px -{{y}}px;width:{{width}}px;height:{{height}}px;border-radius: 100px;margin: 4px 1em 4px 0"></span>

  <span>

      <span class="color-on-hover">{{name}}</span>

      <span style="color:var(--light-text-color)">{{bio}}</span><br>

    <span style="font-size: var(--small-font-size);color:var(--light-text-color)">{{host}} &bull; Joined {{joined}}</span>
  </span>
</a>
  </li>
  {{/sites}}
</ul>
{{/featured}}
<style>
  li[data-hue] a span.color-on-hover {
    color:var(--text-color)
    }
  li[data-hue] a:hover span.color-on-hover {
    color: var(--accent-color)
  }
</style>
<!-- shuffle the order of <li> sites in #featured and limit number to 24 sites -->
<script>
  var featured = document.getElementById("featured");
  var sites = featured.getElementsByTagName("li");
  var sitesArray = Array.prototype.slice.call(sites);
    // now we want to reorder the sites so that no two sites
  // with similar hues are adjacent. the hue can be calculated
  // from [data-hue], which is the h value in hsl

  // first we sort by hue
  sitesArray.sort(function(a, b) {
    var aHue = a.getAttribute("data-hue");
    var bHue = b.getAttribute("data-hue");
    return aHue - bHue;
  });  

  // then we create an array of pairs picking from start and end respectively
  const pairs = [];

  while (sitesArray.length) {
    pairs.push(sitesArray.shift());
    pairs.push(sitesArray.pop());
  }

  const renderFeatured = () => {
  

  // then we shuffle the pairs
  pairs.sort(function() {
    return 0.5 - Math.random();
  });
  
  // then we flatten the pairs
  sitesArray = pairs.reduce(function(a, b) {
    return a.concat(b);
  }, []);

  // trim the number of sites
  featured.innerHTML = "";
  [...sitesArray].slice(0, 13).forEach(function(site) {
    featured.appendChild(site);
  });
}
renderFeatured();

</script>
</div>

<div style="flex-basis:30%;margin-left:2em">
  <h2><a href="/examples/templates">Templates</a></h2>
  
  <ul class="clients">
    {{#allTemplates}}
    <li>
      <a href="/examples/templates/{{slug}}" style="display: flex;align-items: center;justify-content: space-between">
          <span style="font-size: 24px;">{{name}}</span>
          <img
          src="{{#cdn}}/images/examples/{{slug}}/0-thumb.png{{/cdn}}"
          style="width:48px;height:48px;border-radius: 4px;margin: 4px 0 6px;"
            width="100" />
        </a>
    </li>
    {{/allTemplates}}
  </ul>
  
  <h2><a href="/examples/folders">Folders</a></h2>
  
  <ul class="clients">
    {{#allFolders}}
    <li>
      <a href="/examples/folders/{{slug}}" style="display: flex;align-items: center;justify-content: space-between;">
          <span style="font-size: 24px;">{{name}}</span>
          <img
          src="{{#cdn}}/images/examples/{{slug}}/0-thumb.png{{/cdn}}"
          style="width:48px;height:48px;border-radius: 4px;margin: 4px 0 6px;"
          width="100" />
      </a>
    </li>
    {{/allFolders}}
  </ul>
  </div>

</div>
