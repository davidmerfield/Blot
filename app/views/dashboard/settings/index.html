{{> message}}

<a target="_blank" href="https://{{{blog.pretty.url}}}" class="visit-site">
Visit site
<svg style="float: right;fill:currentColor;position:relative;top:4px;right:-8px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path d="M8.22 2.97a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042l2.97-2.97H3.75a.75.75 0 0 1 0-1.5h7.44L8.22 4.03a.75.75 0 0 1 0-1.06Z"></path></svg>    
</a>



<script type="text/javascript">
var content = document.querySelector("iframe");

var doc = document.querySelector('iframe') && document.querySelector('iframe').contentWindow && document.querySelector('iframe').contentWindow.document;

if (doc) {
  

// we can use this to steam changes to CSS properties to the iframe
var scriptObj = doc.createElement("script");
scriptObj.type = "text/javascript";
scriptObj.innerHTML = 'console.log("test");';
doc.body.appendChild(scriptObj);

// Listen to messages sent from the iframe which contains
// the preview of the template. We inject the script
// which sends these messages before the </body> tag of 
// all HTML pages rendered on preview subdomains.
var receiveMessage = function receiveMessage(e) {
    // Only react to messages from the preview subdomain
    // The user can click on links and load external pages
    if (e.origin !== "{{{previewOrigin}}}") return;

    // Extract the path of the page they are viewing
    let path = e.data.slice("iframe:".length);

    // Save the path they have viewed on the server
    var http = new XMLHttpRequest();
    var url = "{{{base}}}/settings";
    var params = "previewPath=" + path;
    http.open("POST", url, true);
    http.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
    http.send(params);
};

window.addEventListener("message", receiveMessage, false);
}

</script>



<div class="collapse-on-small-screens" >

  

  <div class="dashboard-main">

    <div style="border-radius: var(--border-radius);border: 1px solid var(--border-color);overflow: hidden;margin-bottom: 2.4rem;">
      

  <a class="line" href="{{{base}}}/title" >
    <span class="label">Title</span>
    <span class="center" style="display: flex;width: 100%;">
      {{#blog.title}}
      <span class="truncate" style="margin-right: 12px;">{{blog.title}}</span>
      <span class="link">Edit</span>
      {{/blog.title}}
      {{^blog.title}}
      <span class="link">Add a title</span>
      {{/blog.title}}
    </span>
  </a>
 
  <a class="line" href="{{{base}}}/domain" style="border-bottom: none;">
    <span class="label">Domain</span>
    <span class="center" style="display: flex;max-width: 100%;">
      <span style="display: flex;width: 100%;">
        <span style="color:var(--light-text-color);opacity: 0.75;">https://</span>
        <span class="truncate">{{blog.pretty.url}}</span>
        <span class="link" style="margin-left: 12px;">Edit</span>
      </span>
    </span>
  </a>


  

  
</div>

    
    {{> directory}}

    



     
  </div>

  
 <div class="dashboard-side">

<div style="width: 100%;height:0;padding-bottom: 66.6666%;position: relative;z-index: 2;padding-left:1px;padding-right: 1px;box-sizing: border-box;">
  <div class="site-preview" data-url="{{{previewURL}}}" data-cache-id="{{blog.cacheID}}"></div>
</div>

<div style="margin: -5px 0 2rem;position: relative;z-index: 1;border-radius: 0 0 var(--border-radius)  var(--border-radius);overflow: hidden;border: 1px solid var(--border-color);border-top: none;">
  <a href="{{{base}}}/template/{{template.slug}}" class="panel-link">Edit template 
    <svg style="float: right;fill:currentColor;position:relative;top:4px;right:-8px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path d="M8.22 2.97a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042l2.97-2.97H3.75a.75.75 0 0 1 0-1.5h7.44L8.22 4.03a.75.75 0 0 1 0-1.06Z"></path></svg>    
  </a>
</div>


<div style="border-radius: var(--border-radius);overflow: hidden;border: 1px solid var(--border-color);margin-bottom:2rem">
  <a href="{{{base}}}/publishing" class="panel-link"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path d="M8 0a8.2 8.2 0 0 1 .701.031C9.444.095 9.99.645 10.16 1.29l.288 1.107c.018.066.079.158.212.224.231.114.454.243.668.386.123.082.233.09.299.071l1.103-.303c.644-.176 1.392.021 1.82.63.27.385.506.792.704 1.218.315.675.111 1.422-.364 1.891l-.814.806c-.049.048-.098.147-.088.294.016.257.016.515 0 .772-.01.147.038.246.088.294l.814.806c.475.469.679 1.216.364 1.891a7.977 7.977 0 0 1-.704 1.217c-.428.61-1.176.807-1.82.63l-1.102-.302c-.067-.019-.177-.011-.3.071a5.909 5.909 0 0 1-.668.386c-.133.066-.194.158-.211.224l-.29 1.106c-.168.646-.715 1.196-1.458 1.26a8.006 8.006 0 0 1-1.402 0c-.743-.064-1.289-.614-1.458-1.26l-.289-1.106c-.018-.066-.079-.158-.212-.224a5.738 5.738 0 0 1-.668-.386c-.123-.082-.233-.09-.299-.071l-1.103.303c-.644.176-1.392-.021-1.82-.63a8.12 8.12 0 0 1-.704-1.218c-.315-.675-.111-1.422.363-1.891l.815-.806c.05-.048.098-.147.088-.294a6.214 6.214 0 0 1 0-.772c.01-.147-.038-.246-.088-.294l-.815-.806C.635 6.045.431 5.298.746 4.623a7.92 7.92 0 0 1 .704-1.217c.428-.61 1.176-.807 1.82-.63l1.102.302c.067.019.177.011.3-.071.214-.143.437-.272.668-.386.133-.066.194-.158.211-.224l.29-1.106C6.009.645 6.556.095 7.299.03 7.53.01 7.764 0 8 0Zm-.571 1.525c-.036.003-.108.036-.137.146l-.289 1.105c-.147.561-.549.967-.998 1.189-.173.086-.34.183-.5.29-.417.278-.97.423-1.529.27l-1.103-.303c-.109-.03-.175.016-.195.045-.22.312-.412.644-.573.99-.014.031-.021.11.059.19l.815.806c.411.406.562.957.53 1.456a4.709 4.709 0 0 0 0 .582c.032.499-.119 1.05-.53 1.456l-.815.806c-.081.08-.073.159-.059.19.162.346.353.677.573.989.02.03.085.076.195.046l1.102-.303c.56-.153 1.113-.008 1.53.27.161.107.328.204.501.29.447.222.85.629.997 1.189l.289 1.105c.029.109.101.143.137.146a6.6 6.6 0 0 0 1.142 0c.036-.003.108-.036.137-.146l.289-1.105c.147-.561.549-.967.998-1.189.173-.086.34-.183.5-.29.417-.278.97-.423 1.529-.27l1.103.303c.109.029.175-.016.195-.045.22-.313.411-.644.573-.99.014-.031.021-.11-.059-.19l-.815-.806c-.411-.406-.562-.957-.53-1.456a4.709 4.709 0 0 0 0-.582c-.032-.499.119-1.05.53-1.456l.815-.806c.081-.08.073-.159.059-.19a6.464 6.464 0 0 0-.573-.989c-.02-.03-.085-.076-.195-.046l-1.102.303c-.56.153-1.113.008-1.53-.27a4.44 4.44 0 0 0-.501-.29c-.447-.222-.85-.629-.997-1.189l-.289-1.105c-.029-.11-.101-.143-.137-.146a6.6 6.6 0 0 0-1.142 0ZM11 8a3 3 0 1 1-6 0 3 3 0 0 1 6 0ZM9.5 8a1.5 1.5 0 1 0-3.001.001A1.5 1.5 0 0 0 9.5 8Z"></path></svg> Publishing settings</a>
  <a href="{{{base}}}/services" class="panel-link"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path d="M1.5 3.25c0-.966.784-1.75 1.75-1.75h2.5c.966 0 1.75.784 1.75 1.75v2.5A1.75 1.75 0 0 1 5.75 7.5h-2.5A1.75 1.75 0 0 1 1.5 5.75Zm7 0c0-.966.784-1.75 1.75-1.75h2.5c.966 0 1.75.784 1.75 1.75v2.5a1.75 1.75 0 0 1-1.75 1.75h-2.5A1.75 1.75 0 0 1 8.5 5.75Zm-7 7c0-.966.784-1.75 1.75-1.75h2.5c.966 0 1.75.784 1.75 1.75v2.5a1.75 1.75 0 0 1-1.75 1.75h-2.5a1.75 1.75 0 0 1-1.75-1.75Zm7 0c0-.966.784-1.75 1.75-1.75h2.5c.966 0 1.75.784 1.75 1.75v2.5a1.75 1.75 0 0 1-1.75 1.75h-2.5a1.75 1.75 0 0 1-1.75-1.75ZM3.25 3a.25.25 0 0 0-.25.25v2.5c0 .138.112.25.25.25h2.5A.25.25 0 0 0 6 5.75v-2.5A.25.25 0 0 0 5.75 3Zm7 0a.25.25 0 0 0-.25.25v2.5c0 .138.112.25.25.25h2.5a.25.25 0 0 0 .25-.25v-2.5a.25.25 0 0 0-.25-.25Zm-7 7a.25.25 0 0 0-.25.25v2.5c0 .138.112.25.25.25h2.5a.25.25 0 0 0 .25-.25v-2.5a.25.25 0 0 0-.25-.25Zm7 0a.25.25 0 0 0-.25.25v2.5c0 .138.112.25.25.25h2.5a.25.25 0 0 0 .25-.25v-2.5a.25.25 0 0 0-.25-.25Z"></path></svg> External services</a>
  <a href="{{{base}}}/link-format" class="panel-link"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg> Link format</a>
  <a href="{{{base}}}/redirects" class="panel-link"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-3.5a.75.75 0 0 1 0-1.5h3.5a.25.25 0 0 0 .25-.25V4.664a.25.25 0 0 0-.073-.177l-2.914-2.914a.25.25 0 0 0-.177-.073H3.75a.25.25 0 0 0-.25.25v6.5a.75.75 0 0 1-1.5 0v-6.5Z"></path><path d="m5.427 15.573 3.146-3.146a.25.25 0 0 0 0-.354L5.427 8.927A.25.25 0 0 0 5 9.104V11.5H.75a.75.75 0 0 0 0 1.5H5v2.396c0 .223.27.335.427.177Z"></path></svg> Redirects</a>

  <a href="{{{base}}}/date" class="panel-link"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Zm7-3.25v2.992l2.028.812a.75.75 0 0 1-.557 1.392l-2.5-1A.751.751 0 0 1 7 8.25v-3.5a.75.75 0 0 1 1.5 0Z"></path></svg> Date and time</a>
  <!-- <a href="{{{base}}}/password" class="panel-link"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path d="M4 4a4 4 0 0 1 8 0v2h.25c.966 0 1.75.784 1.75 1.75v5.5A1.75 1.75 0 0 1 12.25 15h-8.5A1.75 1.75 0 0 1 2 13.25v-5.5C2 6.784 2.784 6 3.75 6H4Zm8.25 3.5h-8.5a.25.25 0 0 0-.25.25v5.5c0 .138.112.25.25.25h8.5a.25.25 0 0 0 .25-.25v-5.5a.25.25 0 0 0-.25-.25ZM10.5 6V4a2.5 2.5 0 1 0-5 0v2Z"></path></svg> Password protect</a> -->
  </div>

  <div style="border-radius: var(--border-radius);overflow: hidden;border: 1px solid var(--border-color)">
  <a href="{{{base}}}/import" class="panel-link">
    <svg width="17" height="14" viewBox="0 0 17 14" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M12.6865 9.00011L13.8595 7.76711C13.9966 7.62297 14.0708 7.43025 14.0659 7.23137C14.0609 7.03249 13.9771 6.84373 13.833 6.70661C13.6888 6.5695 13.4961 6.49526 13.2972 6.50023C13.0983 6.5052 12.9096 6.58897 12.7725 6.73311L10.3945 9.23311C10.2618 9.37254 10.1878 9.55765 10.1878 9.75011C10.1878 9.94258 10.2618 10.1277 10.3945 10.2671L12.7725 12.7671C12.9096 12.9113 13.0983 12.995 13.2972 13C13.4961 13.005 13.6888 12.9307 13.833 12.7936C13.9771 12.6565 14.0609 12.4677 14.0659 12.2689C14.0708 12.07 13.9966 11.8773 13.8595 11.7331L12.6865 10.5001H15.9375C16.1364 10.5001 16.3271 10.4211 16.4678 10.2804C16.6084 10.1398 16.6875 9.94902 16.6875 9.75011C16.6875 9.5512 16.6084 9.36043 16.4678 9.21978C16.3271 9.07913 16.1364 9.00011 15.9375 9.00011H12.6865Z" />
      <path d="M1.75 0C0.784 0 0 0.784 0 1.75V12.25C0 12.7141 0.184374 13.1592 0.512563 13.4874C0.840752 13.8156 1.28587 14 1.75 14C1.75 14 8 14 9 14C10 14 10 12.5 9 12.5C8 12.5 1.75 12.5 1.75 12.5C1.612 12.5 1.5 12.388 1.5 12.25V1.75C1.5 1.6837 1.52634 1.62011 1.57322 1.57322C1.62011 1.52634 1.6837 1.5 1.75 1.5H5C5.03881 1.5 5.07709 1.50904 5.1118 1.52639C5.14652 1.54375 5.17671 1.56895 5.2 1.6L6.1 2.8C6.43 3.24 6.95 3.5 7.5 3.5H14.25C14.3163 3.5 14.3799 3.52634 14.4268 3.57322C14.4737 3.62011 14.5 3.6837 14.5 3.75C14.5 3.75 14.5 3.5 14.5 4.5C14.5 5.5 16 5.5 16 4.5C16 3.5 16 3.75 16 3.75C16 2.784 15.216 2 14.25 2H7.5C7.46119 2 7.42291 1.99096 7.3882 1.97361C7.35348 1.95625 7.32329 1.93105 7.3 1.9L6.4 0.7C6.07 0.26 5.55 0 5 0H1.75Z" />
      </svg>
      
    Import</a>
  <a href="{{{base}}}/export" class="panel-link">
    <svg width="17" height="14" viewBox="0 0 17 14" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M14.1888 10.5001L13.0158 11.7331C12.8787 11.8773 12.8044 12.07 12.8094 12.2689C12.8144 12.4677 12.8982 12.6565 13.0423 12.7936C13.1864 12.9307 13.3792 13.005 13.578 13C13.7769 12.995 13.9657 12.9113 14.1028 12.7671L16.4808 10.2671C16.6135 10.1277 16.6875 9.94258 16.6875 9.75012C16.6875 9.55765 16.6135 9.37254 16.4808 9.23311L14.1028 6.73311C13.9657 6.58897 13.7769 6.5052 13.578 6.50023C13.3792 6.49526 13.1864 6.5695 13.0423 6.70661C12.8982 6.84373 12.8144 7.0325 12.8094 7.23138C12.8044 7.43025 12.8787 7.62297 13.0158 7.76712L14.1888 9.00012L10.9378 9.00011C10.7389 9.00011 10.5481 9.07913 10.4075 9.21978C10.2668 9.36044 10.1878 9.55121 10.1878 9.75011C10.1878 9.94902 10.2668 10.1398 10.4075 10.2804C10.5481 10.4211 10.7389 10.5001 10.9378 10.5001L14.1888 10.5001Z" />
      <path d="M1.75 0C0.784 0 0 0.784 0 1.75V12.25C0 12.7141 0.184374 13.1592 0.512563 13.4874C0.840752 13.8156 1.28587 14 1.75 14C1.75 14 8 14 9 14C10 14 10 12.5 9 12.5C8 12.5 1.75 12.5 1.75 12.5C1.612 12.5 1.5 12.388 1.5 12.25V1.75C1.5 1.6837 1.52634 1.62011 1.57322 1.57322C1.62011 1.52634 1.6837 1.5 1.75 1.5H5C5.03881 1.5 5.07709 1.50904 5.1118 1.52639C5.14652 1.54375 5.17671 1.56895 5.2 1.6L6.1 2.8C6.43 3.24 6.95 3.5 7.5 3.5H14.25C14.3163 3.5 14.3799 3.52634 14.4268 3.57322C14.4737 3.62011 14.5 3.6837 14.5 3.75C14.5 3.75 14.5 3.5 14.5 4.5C14.5 5.5 16 5.5 16 4.5C16 3.5 16 3.75 16 3.75C16 2.784 15.216 2 14.25 2H7.5C7.46119 2 7.42291 1.99096 7.3882 1.97361C7.35348 1.95625 7.32329 1.93105 7.3 1.9L6.4 0.7C6.07 0.26 5.55 0 5 0H1.75Z" />
      </svg>
      
      Export</a>
  <a href="{{{base}}}/delete" class="panel-link red"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16"><path d="M11 1.75V3h2.25a.75.75 0 0 1 0 1.5H2.75a.75.75 0 0 1 0-1.5H5V1.75C5 .784 5.784 0 6.75 0h2.5C10.216 0 11 .784 11 1.75ZM4.496 6.675l.66 6.6a.25.25 0 0 0 .249.225h5.19a.25.25 0 0 0 .249-.225l.66-6.6a.75.75 0 0 1 1.492.149l-.66 6.6A1.748 1.748 0 0 1 10.595 15h-5.19a1.75 1.75 0 0 1-1.741-1.575l-.66-6.6a.75.75 0 1 1 1.492-.15ZM6.5 1.75V3h3V1.75a.25.25 0 0 0-.25-.25h-2.5a.25.25 0 0 0-.25.25Z"></path></svg> Delete site</a>
  </div>
  
</div>
</div>

<style>
  .panel-link {
    display: block;
    border-bottom: 1px solid var(--border-color);
    font-weight: 600;
    padding: 0.5rem 1rem;
    color: var(--accent-color);
    font-size: 14px;
    background-color: var(--background-color);
    transition: background-color 0.2s;
  }

  .panel-link:hover {
    background-color: #f0f4ff70;
  }

  div > .panel-link:last-child {
    border-bottom: none;
  }

  .panel-link svg {
    fill: currentColor;
    vertical-align: middle;
    position: relative;
    top: -0.1em;
    margin-right: 0.5em;
  }
  .panel-link.red {
    color: red;
  }
  
  a.visit-site {
    border-radius: 5px;
background-color: #e4eafb;
color: #2c00ff;
position: absolute;
top: 2.75rem;
font-size: 14px;
font-weight: 600;
right: 0;
border: none;
padding: 6px 13px;
transform: scale(1.0);
transition: transform 0.1s ease-in-out;
  }

  .visit-site:hover {
    transform: scale(1.03);
  }

  .visit-site:active {
    transform: scale(1.0);
  }

  .dashboard-main {
    width: 66.6666%;display: flex;flex-direction: column;margin-right: 42px;flex-grow:1
  }

  .dashboard-side {
    width: 33.3333%;margin-left: 0;max-width: 240px;
  }

  @media screen and (max-width: 900px) {
    .dashboard-main, .dashboard-side {
      width: 100%;margin-right: 0;margin-left: 0;
    }

    .dashboard-side {
      margin-top: 2rem;
    }

  }

</style>
