<div style="padding: 11px 20px;border-bottom: 1px solid #eeeeec;">
<label>Domain</label><br>

	{{! We use blog.pretty.domain instead of blog.domain so we can render punycode domains like exƒÅmple.com nicely. When saved, we convert back to ascii on the server. }}
	<input autofocus type="text" id="customDomain" placeholder="example.com" style="background-color: var(--background-color);width: 100%;" name="domain" value="{{customDomain}}" />

	<div class="buttons">
		<button type="submit" onclick="this.form.submit(); this.disabled=true">
			Save changes
		</button>
		<a href="{{{base}}}/domain">Cancel</a>
	</div>
</div>


<script>

	// if the text field starts out empty and then the user types something, update the submit button to say "Set up custom domain"
	// if the user empties the text field, update the submit button to say "Remove custom domain"

	const initialVal = document.getElementById('customDomain').value;
	
	document.getElementById('customDomain').addEventListener('input', function (event) {
		var button = document.querySelector('.buttons button[type="submit"]');
		if (event.target.value && !initialVal) {
			button.textContent = 'Set up custom domain';
		} else if (!event.target.value && initialVal){
			button.textContent = 'Remove custom domain';
		} else {
			button.textContent = 'Save changes';
		}
	});

</script>